### v1.9.0 
- Added Access Control phase 2 for the cryptoserv with the application context

### v1.8.1
- Fix for issue [#203](https://github.paypal.com/PlatformSecurity-R/node-keymakerclientapi/issues/203)
- Initialize `topos` if nconf is not available
- Fix unit tests

### v1.8.1-alpha.1
- Fix for issue [#203](https://github.paypal.com/PlatformSecurity-R/node-keymakerclientapi/issues/203)

### v1.8.0
- client APIs for Application Context (getAC, getExpiringAC, refreshAC, getRevokedAC, verifyPermission)
- `getSecret` now returns only if the keytype is `nonkey`
- Fix for issue [#205](https://github.paypal.com/PlatformSecurity-R/node-keymakerclientapi/issues/205)

### v1.7.2
- change for JWEDecrypt with Cryptoserv to NOT base64 decode before sending ciphertext

### v1.7.2-alpha.1
- change for JWEDecrypt with Cryptoserv to NOT base64 decode before sending ciphertext

### v1.7.1
- REVERT add `nconf` as direct dependency instead of dev dependency

### v1.7.1-alpha.1
- changes for Raptor compatibility for JWEDecrypt with Cryptoserv

### v1.7.0
- return version of the key in HMAC operation
- new API `jwsRFCSign` to get signed JWT in dot-separated format
- cryptoserv support for JWE decryption
- add `nconf` as direct dependency instead of dev dependency issue [#190](https://github.paypal.com/PlatformSecurity-R/node-keymakerclientapi/issues/190)

### v1.6.3
- Support AES128 algorithm for seal/unseal operations
- Handle `close` event for keymakeragent and cryptoserv connections (Eg: `close` event is emitted without error when server crashes unexpectedly)
- Send application name from `package.json` as username to cryptoserv

### v1.6.3-alpha.2
- Support AES128 algorithm for seal/unseal operations
- Handle `close` event for keymakeragent and cryptoserv connections (Eg: `close` event is emitted without error when server crashes unexpectedly)

### v1.6.3-alpha.1
- Fix for handling parallel requests for crypto operations with cryptoserv keys
- Fix logging of pool status and connection attempts/retries

### v1.6.2
- Fix for `Cryptoserv calls made by Node.js clients hanging after few successful calls`

### v1.6.1
- Change default host for keymakeragent dev pool from IP address to VIP
- Fix connection retry in `async.whilst` (it did not loop after 1st failure)
- Fix 1 unit test case (response code changed from 500 to 400)

### v1.6.0
- Netstring client for talking to cryptoserv. Stop routing cryptoserv requests through keymakeragent
for encrypt/decrypt/hmac operations.
- Add linting `npm run lint`
- Handle error and validate protected package read by `vault`
- Read vault config from `config.json` when calling `vault.create`

### v1.5.3
- Fix for issue [#157](https://github.paypal.com/PlatformSecurity-R/node-keymakerclientapi/issues/157)
- New API for keymaker shortstop handler implementation in Paypalize (getClientForInfra)

### v1.5.2
Retry connection to keymakeragent
- Retry `get_exportable_keys` call once in case of failure first time.
- For every `get_exportable_keys` call, retry `tls.connect()` once if it fails the first time.
- This means there are 4 tries to connect to keymakeragent from the client during startup.

### v1.5.1
Bug fix for NPM 3 - remove direct dependency on `fs` module since builds were failing with NPM 3.

### v1.5.0
- Support for JWE (JSON Web Encryption/Decryption) and JWS (JSON Web Sign/Verify). (With keystore of any type other than sso or external, individual keypairs and certificates)
- Support asymmetric key rotation for JWE/JWS.
- Local key cache support. (Store keydata from keymakeragent securely in the protected package directory, and retrieve keydata in future if client is unable to connect to keymakeragent)

### v1.4.1
Bug fix to update with latest version of passphrase. (Issue #142)

### v1.4.0
New API getSSOConfig to handle SSO configuration. SSO keystore processing is also done at application start-up.

### v1.3.2
Not throw exception to client from getClient api when kmclient instantiation is incomplete.

### v1.3.1
Minor cal log corrections

### v1.3.0
bug fix in utils
vault peer dependency to support range vault@^2 to vault@^3

### v1.2.3
reverting back setAllTrustedCerts to getAllTrustedCerts with setting of context taken care by caller.

### v1.2.2
modifying getAllTrustedCerts api to setAllTrustedCerts.
This API should be called only from brogan/paypalize/typhon.

### v1.2.1
bug-fix in objectid encryption/decryption

### v1.2.0
Handling of keystores
new apis added to use keystores for external ssl connections.

### v1.1.1
BugFixes in the keycache impl for GCM keys

### v1.1.0
Local AES-GCM impl support for node v0.11.x and above. Paypal stack uses v4 directly after 0.10.x
- v4 would use local aes-gcm with fallback on agent
- v0.10.x would have the current behavior with only fallback on agent

InfraCryptoAPIs that are sync in nature added to this release.

### v1.0.8

Adding Additional Logs that can help track startup failures. Sometimes your console logs are pretty straight-forward and simple to
figure out if everything is alright.

keymaker_hard_failure flag not required for vault failures. Vault failures are not meant to happen and the client should complain.

### v1.0.7

Addition to the following API's response object
- Decrypt
- Unseal
- SecretProvider

`plainData` var  is added to the response object which will return back the response as Buffer.

### v1.0.6

Handling Hmac corner case where algo for hmac will be 'sha1_hashed_key'. Earlier this corner case was dependent on crypt key algo.

### v1.0.5

Added shutdown api which can be used to tearDown keymakerclient (ends up draining the internal pool).
The addition has been made with intentions to use in paypalize tests as of now.
Can be used to production code if need be. Currently its handled in production code by listener registered on process exit.

### v1.0.4

Minor Bug Fixes
- Agent default response is List even if the number of entries are one. This is rectified as improvement.
- 'isAgentEnabled' flag set to TRUE by default when no variable passed. If passed and FALSE, will be honored for disabled mode.


### v1.0.3

keymaker module was dependent on `collections` v1 which had monkey-patched Arrays find method with the wrong implementation of findIndexOf functionality. This caused issues in the apps downstream. The `collections` module was bumped to v2 where this issue is rectified.

### v1.0.2

The callback `err obj` was removed where a warning CAL log is written and both the `response and err` object will be null.

### v1.0.1

keymaker `create` is invoked only `once` by `brogan or paypalize or typhon` at application startup.If called twice, we used to assert. This assertion logic was removed and callback err object was introduced.

# v1.0.0
#### KeyMakerClientAPI v1.0.0 released on March 10th, 2016

- `Read`[Me](https://github.paypal.com/PlatformSecurity-R/node-keymakerclientapi/blob/master/README.md) Integration.

- `Integration` [Manual](https://engineering.paypalcorp.com/confluence/display/PLATSEC/Node+KeyMaker+Integrationi)

- `FAQs-`[Doc](https://engineering.paypalcorp.com/confluence/display/PLATSEC/KeyMaker+FAQ)

- `KeyMaker-`[DeepDive](https://engineering.paypalcorp.com/confluence/display/PLATSEC/KeyMaker+-+Next+Gen+Key+Management)

- `ManageKeys-`[Self-Service Portal](https://engineering.paypalcorp.com/confluence/display/Altus/Security+Keys) to Manage keys.
