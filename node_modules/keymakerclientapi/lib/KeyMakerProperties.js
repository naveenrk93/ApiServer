/**
 * Created by klakhwani on 11/21/16.
 */
var assert = require('assert'),
    Dict = require('collections/dict');

var props = new Dict();

function setProperty(key, value) {
    assert.ok(key, 'KeyMakerProperties-setProperty- key cannot be null');
    assert.ok(value, 'KeyMakerProperties-setProperty- value cannot be null');
    props.set(key, value);
}

function getProperty(key, callback) {
    if (props.hasOwnProperty(key)) {
        return callback(null, props.get(key));
    }
    return callback(new Error('KeyMakerProperties - property ' + key + ' not found '), null);
}

function getMaxVersion(key) {
    if (!/_max_version/i.test(key))
        key = key + '_max_version';
    return props.get(key);
}
module.exports = {
    props : props,
    setProperty: setProperty,
    getProperty: getProperty,
    getMaxVersion: getMaxVersion
};